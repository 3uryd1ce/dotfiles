#!/usr/bin/env sh
set -e

sec_print () {
  printf "%s\\n" "$@"
}

err () {
  sec_print "[$(date +'%Y-%m-%d--%H:%M:%S')]: $*" >&2
  exit 1
}

import_colors () {
  . "${HOME}/.cache/wal/colors.sh"
}

#-fn ## font used
#-nb ## normal background color
#-nf ## normal foreground color
#-sb ## selected background color
#-sf ## selected foreground color

launch () {
  dmenu_run -fn "mono-22" -nb "$color0" -nf "$color3" -sb "$color0" -sf "$color7"
}

main () {
  import_colors || err "Couldn't import colors."
  launch || "Launch menu failed."
}

main
