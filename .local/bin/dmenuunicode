#!/usr/bin/env sh
# shellcheck disable=SC1090,SC2154
set -e
. "${HOME}/.local/bin/libr"
# rewrite of Luke Smith's dmenuunicode:
# https://github.com/LukeSmithxyz/voidrice/blob/master/.local/bin/dmenuunicode

# his dotfiles can be accessed here:
# https://github.com/LukeSmithxyz/voidrice

# TODO
# figure out a way to get a consistent display with fontconfig
emoji_font="Symbola-16"
emoji_file="${HOME}/.local/share/emoji"

grab_emoji() {
  chosen=$(cut -d ';' -f1 "${emoji_file}" | menu -l 20 -fn "${emoji_font}")
  emoji=$(printf "%s" "${chosen}" | sed "s/ .*//")
  printf "%s" "${emoji}" | xclip -selection clipboard
}

dmenuunicode() {
  import_colors
  grab_emoji
}

dmenuunicode
