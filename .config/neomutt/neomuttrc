# stuck 'set my_pass=xxxx' in a file and encrypted it with GnuPG

# it can then be referenced with $my_pass, all without leaving the
# password in plain text on the computer.

# smtp_{url,pass} aren't needed with a working smtpd.conf(5)
# on OpenBSD :)

source "gpg -dq ${HOME}/passwords/emails/email_passwords.txt.gpg |"

source "${XDG_CONFIG_HOME}/neomutt/riseup.txt"
# Here we use the $folder variable that has just been set in the sourced file.
#
# We must set it right now otherwise the 'folder' variable will change in the
# next sourced file.
folder-hook $folder "source ${XDG_CONFIG_HOME}/neomutt/riseup.txt"

source "${XDG_CONFIG_HOME}/neomutt/personal.txt"
folder-hook $folder "source ${XDG_CONFIG_HOME}/neomutt/personal.txt"

subscribe announcements@openbsd.org
subscribe misc@openbsd.org
subscribe ports@openbsd.org

source "${XDG_CONFIG_HOME}/neomutt/config_vars"

mailboxes = +INBOX

ignore *
unignore From To Cc Bcc Date Subject
unhdr_order *
hdr_order From: To: Cc: Bcc: Date: Subject:

alternative_order text/plain text/enriched text/html
auto_view application/pgp-encrypted
auto_view text/html

bind index \Cf noop
bind index,pager i noop
bind index,pager,attach g noop

# General rebindings
bind attach l view-text
bind browser h goto-parent
bind browser l select-entry
bind editor <Tab> complete-query
bind editor <space> noop
bind index "^" fetch-mail
bind index D purge-message
bind index L list-reply
bind index U undelete-message
bind index h noop
bind index j next-entry
bind index k previous-entry
bind index l display-message
bind index,attach G last-entry
bind index,attach gg first-entry
bind index,pager \Cb previous-page
bind index,pager \Cf next-page
bind index,pager B sidebar-toggle-visible
bind index,pager S sync-mailbox
bind index,pager \Cj sidebar-next
bind index,pager \Ck sidebar-prev
bind index,pager \Cn sidebar-next-new
bind index,pager \Co sidebar-open
bind index,pager \Cp sidebar-prev-new
bind index,pager p recall-message
bind index,pager,attach R group-reply
bind index,pager,browser d half-down
bind index,pager,browser u half-up
bind index,query <space> tag-entry
bind pager j next-line
bind pager k previous-line
bind pager l view-attachments
bind pager,attach h exit
macro browser h '<change-dir><kill-line>..<enter>' "Go to parent folder"

macro index,pager gp "<sync-mailbox><enter-command>source ${XDG_CONFIG_HOME}/neomutt/personal.txt<enter><change-folder>!<enter>"
macro index,pager ge "<sync-mailbox><enter-command>source ${XDG_CONFIG_HOME}/neomutt/riseup.txt<enter><change-folder>!<enter>"

# Colors
color attachment white default
color bold black default
color error red default
color hdrdefault blue default
color index brightcyan default "~N"
color index cyan default ".*"
color indicator yellow default
color message cyan default
color normal default default
color quoted cyan default
color quoted1 magenta default
color quoted2 blue default
color quoted3 green default
color quoted4 red default
color search brightyellow default
color sidebar_highlight red default
color signature cyan default
color status magenta black
color tilde black default
color underline black default

# Regex highlighting:
color body yellow default "(https?|ftp)://[\-\.,/%~_:?&=\#a-zA-Z0-9]+" # URL
color body yellow default "[\-\.+_a-zA-Z0-9]+@[\-\.a-zA-Z0-9]+" # Email addresses
color body blue default "^gpg: Good signature .*"
color body magenta default "[ ]?[*][^*]*[*][ ]" # more emoticon?
color body magenta default "[ ][*][^*]*[*][ ]?" # more emoticon?
color body magenta default "[;:][)(|]" # emoticons
color body magenta default "[;:][-o][)/(|]" # emoticons
color body underline bold brightyellow default "^gpg: BAD signature from.*"
color body blue default "(Good signature)"
color body underline bold brightyellow default "(BAD signature)"
color body magenta default "\`[^\`]*\`"
#color body magenta default "^(\t| )*(-|\\*) \.*"
color header brightwhite default "^(CC|BCC)"
color header cyan default ".*"
color header brightcyan default "^(From)"
color header brightcyan default "^(Subject)"
