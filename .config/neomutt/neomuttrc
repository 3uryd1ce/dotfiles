# stuck 'set my_pass=xxxx' in a file and encrypted it with GnuPG

# it can then be referenced with $my_pass, all without leaving the
# password in plain text on the computer.

# smtp_{url,pass} aren't needed with a working smtpd.conf(5)
# on OpenBSD :)

source "gpg2 -dq ~/passwords/email_pass.gpg |"

subscribe announcements@openbsd.org
subscribe bugs@openbsd.org
subscribe misc@openbsd.org

set beep                      = no
set crypt_autosign            = no
set crypt_replyencrypt        = yes
set crypt_replysign           = no
set crypt_replysignencrypted  = yes
set crypt_use_gpgme           = yes
set date_format               = "%y/%m/%d %H:%M"
set delete                    = yes
set fast_reply
set folder                    = pops://mail.riseup.net/
set forward_format            = "Fwd: %s"
set forward_quote
set from                      = eurydice@riseup.net
set header_cache              = "~/.cache/neomutt"
set hidden_host               = yes
set ignore_list_reply_to      = yes
set include
set mail_check                = 600
set mail_check_stats
set mail_check_stats_interval = 600
set mark_old                  = no
set markers                   = no
set mbox                      = "~/mail"
set mbox_type                 = "Maildir"
set message_cachedir          = "~/.cache/neomutt"
set mime_forward              = yes
set move                      = yes
set pgp_auto_decode           = yes
set pgp_show_unusable         = no
set pop_checkinterval         = 600
set pop_delete                = yes
set pop_host                  = "mail.riseup.net"
set pop_pass                  = $my_pass
set pop_user                  = "eurydice@riseup.net"
set print                     = no
set realname                  = "Ashlen"
set record                    = "~/mail"
set reflow_wrap               = 72
set reverse_alias             = yes
set reverse_name
set rfc2047_parameters        = yes
set sidebar_next_new_wrap     = yes
set sidebar_visible           = no
set sidebar_width             = 15
set sleep_time                = 0
set sort                      = threads
set spoolfile                 = +INBOX
set ssl_force_tls             = yes
set strict_threads            = yes
set use_from                  = yes
set use_domain                = yes
set wait_key                  = no
set wrap                      = 72

mailboxes                     = +INBOX

ignore      *
unignore    From To Cc Bcc Date Subject
unhdr_order *
hdr_order   From: To: Cc: Bcc: Date: Subject:

alternative_order text/plain text/enriched text/html
auto_view         application/pgp-encrypted
auto_view         text/html

bind index              \Cf noop
bind index,pager        i   noop
bind index,pager,attach g   noop

# General rebindings
bind  attach              l       view-text
bind  browser             h       goto-parent
bind  browser             l       select-entry
bind  editor              <Tab>   complete-query
bind  editor              <space> noop
bind  index               "^"     fetch-mail
bind  index               D       purge-message
bind  index               L       list-reply
bind  index               U       undelete-message
bind  index               h       noop
bind  index               j       next-entry
bind  index               k       previous-entry
bind  index               l       display-message
bind  index,attach        G       last-entry
bind  index,attach        gg      first-entry
bind  index,pager         B       sidebar-toggle-visible
bind  index,pager         S       sync-mailbox
bind  index,pager         \Cj     sidebar-next
bind  index,pager         \Ck     sidebar-prev
bind  index,pager         \Cn     sidebar-next-new
bind  index,pager         \Co     sidebar-open
bind  index,pager         \Cp     sidebar-prev-new
bind  index,pager,attach  R       group-reply
bind  index,pager,browser d       half-down
bind  index,pager,browser u       half-up
bind  index,query         <space> tag-entry
bind  pager               j       next-line
bind  pager               k       previous-line
bind  pager               l       view-attachments
bind  pager,attach        h       exit
macro browser             h       '<change-dir><kill-line>..<enter>' "Go to parent folder"

# Colors
color attachment        white         default
color bold              black         default
color error             red           default
color hdrdefault        blue          default
color index             brightcyan    default "~N"
color index             cyan          default ".*"
color indicator         yellow        default
color message           cyan          default
color normal            default       default
color quoted            cyan          default
color quoted1           magenta       default
color quoted2           green         default
color quoted3           red           default
color search            brightmagenta default
color sidebar_highlight red           default
color signature         cyan          default
color status            magenta       black
color tilde             black         default
color underline         black         default

# Regex highlighting:
color body   yellow       default "(https?|ftp)://[\-\.,/%~_:?&=\#a-zA-Z0-9]+" # URL
color body   yellow       default "[\-\.+_a-zA-Z0-9]+@[\-\.a-zA-Z0-9]+" # Email addresses
color body   blue         default "^gpg: Good signature .*"
color body   magenta      default "[ ]?[*][^*]*[*][ ]" # more emoticon?
color body   magenta      default "[ ][*][^*]*[*][ ]?" # more emoticon?
color body   magenta      default "[;:][)(|]" # emoticons
color body   magenta      default "[;:][-o][)/(|]" # emoticons
color body   underline    bold    brightyellow default "^gpg: BAD signature from.*"
color body   blue         default "(Good signature)"
color body   underline    bold    brightyellow default "(BAD  signature)"
color body   magenta      default "\`[^\`]*\`"
#color body   magenta      default "^(\t| )*(-|\\*) \.*"
color header brightwhite  default "^(CC|BCC)"
color header cyan         default ".*"
color header brightcyan   default "^(From)"
color header brightcyan   default "^(Subject)"
